(this["webpackJsonphallo-doctor-admin"]=this["webpackJsonphallo-doctor-admin"]||[]).push([[8],{490:function(e,a,r){"use strict";r.r(a);var t=r(7),o=r.n(t),n=r(40),c=r(121),i=r(0),s=r(483),l=r(242),g=r(488),u=r(364),y=r(482),m=r(110),p=r(43),b=r(494),d=r(36),j=r(464),h=j.a().shape({categoryName:j.b().required(),iconUrl:j.b().url().required()}),x=j.a().shape({categoryName:j.b().required()}),f=r(4);a.default=function(){var e=Object(p.g)(),a=Object(p.h)(),r=a.id,t=a.name,j=a.translation,O=Object(i.useMemo)((function(){return!!r}),[r]),N=s.a.useForm(),C=Object(c.a)(N,1)[0],T=function(){var a=Object(n.a)(o.a.mark((function a(t){var n,c,i,s,g;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!O){a.next=22;break}return n={categoryName:t.categoryName,categoryTranslation:t.categoryTranslation,iconUrl:t.category_icon},a.next=5,x.validate(n);case 5:if(!a.sent){a.next=20;break}if(t.category_icon){a.next=13;break}return a.next=10,d.a.editDoctorCategory(r,t.categoryName,t.categoryTranslation,null);case 10:e.push("/app/doctor-category"),a.next=20;break;case 13:return a.next=15,d.a.uploadImage(t.category_icon.file.name,t.category_icon.fileList[0].originFileObj);case 15:return c=a.sent,i={categoryName:t.categoryName,categoryTranslation:t.categoryTranslation,iconUrl:c},a.next=19,d.a.editDoctorCategory(r,i.categoryName,i.categoryTranslation,i.iconUrl);case 19:e.push("/app/doctor-category");case 20:a.next=34;break;case 22:return console.log("add new category"),a.next=25,d.a.uploadImage(t.category_icon.file.name,t.category_icon.fileList[0].originFileObj);case 25:return s=a.sent,g={categoryName:t.categoryName,categoryTranslation:t.categoryTranslation,iconUrl:s},a.next=29,h.validate(g);case 29:if(!a.sent){a.next=34;break}return a.next=33,d.a.editDoctorCategory(r,g.categoryName,g.categoryTranslation,g.iconUrl);case 33:e.push("/app/doctor-category");case 34:a.next=39;break;case 36:a.prev=36,a.t0=a.catch(0),l.b.error("error : "+a.t0.message);case 39:case"end":return a.stop()}}),a,null,[[0,36]])})));return function(e){return a.apply(this,arguments)}}();return Object(f.jsx)(g.a,{children:Object(f.jsxs)(s.a,{labelCol:{span:3},wrapperCol:{span:10},form:C,name:"doctor_category_input",onFinish:T,scrollToFirstError:!0,labelAlign:"left",initialValues:{categoryName:O?t:null,categoryTranslation:O?j:null},children:[Object(f.jsx)(s.a.Item,{name:"categoryName",label:"Category Name",rules:[{required:!0,message:"Please chose Category Name"}],children:Object(f.jsx)(u.a,{})}),Object(f.jsx)(s.a.Item,{name:"categoryTranslation",label:"Category in Arabic",rules:[{required:!0,message:"Please chose Category in Arabic"}],children:Object(f.jsx)(u.a,{})}),Object(f.jsx)(s.a.Item,{name:"category_icon",label:"Category Icon",rules:[{required:!O,message:"Please chose Category Icon"}],children:Object(f.jsx)(y.a,{name:"logo",listType:"picture",multiple:!0,maxCount:1,beforeUpload:function(e){var a="image/jpeg"===e.type||"image/png"===e.type;a||l.b.error("You can only upload JPG/PNG file!");var r=e.size/1024/1024<2;return r||l.b.error("Image must smaller than 2MB!"),a&&r&&!1},children:Object(f.jsx)(m.a,{icon:Object(f.jsx)(b.a,{}),children:"Click to upload"})})}),Object(f.jsx)(s.a.Item,{wrapperCol:{offset:3,span:16},children:Object(f.jsx)(m.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})}}}]);
//# sourceMappingURL=8.aa6da2c5.chunk.js.map